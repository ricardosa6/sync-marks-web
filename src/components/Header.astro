---
import ToggleThemeButton from "./ToggleThemeButton.astro";
import SyncMarksLogo from "./SyncMarksLogo.astro";

import { getLangFromUrl, useTranslatedPath } from "@/i18n/utils";
import LanguageSelector from "./LanguageSelector.astro";

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);
---

<header
  id="header"
  class="fixed top-0 w-full p-4 !border-b-slate-700 dark:!border-b-slate-700"
>
  <div
    class="max-w-screen-xl mx-auto flex justify-between gap-2 items-center dark:text-slate-300 text-slate-700"
  >
    <a href={translatePath("/")}>
      <SyncMarksLogo />
    </a>
    <div class="flex items-center gap-2">
      <ToggleThemeButton />
      <LanguageSelector />
    </div>
  </div>
</header>

<style>
  #header {
    animation: blur-header linear both;
    animation-timeline: scroll();
    /* animation-range: 0 150px; */
  }

  @keyframes blur-header {
    100% {
      backdrop-filter: blur(8px);
      border-bottom: 0.5px solid;
    }
  }
</style>
